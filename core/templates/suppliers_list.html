{% extends 'base.html' %}
{% load static %}

{% block title %}๐ช ุงุณุชูุดู ุงููุชุงุฌุฑ ุงูุฑูููุฉ - ููุตุฉ ุงูุชุฌุงุฑุฉ ุงูุฅููุชุฑูููุฉ ุงูุฑุงุฆุฏุฉ{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/suppliers.css' %}">
{% endblock %}

{% block content %}
<!-- Modern Hero Section -->
<section class="supplier-hero">
    <div class="container hero-content text-center">
        <h1 class="fw-bold mb-4">๐ช ุงุณุชูุดู ุงููุชุงุฌุฑ</h1>
        <p class="lead mb-5">ุชุณูู ูู ุฃูุถู ุงูููุฑุฏูู ุงููุนุชูุฏูู ูู ุงูููููุฉ ุจูู ุณูููุฉ ูุฃูุงู</p>
        
        <div class="d-flex justify-content-center gap-3 flex-wrap">
            <span class="hero-badge"><i class="fas fa-shipping-fast"></i>ุชูุตูู ุณุฑูุน</span>
            <span class="hero-badge"><i class="fas fa-shield-alt"></i>ุฌูุฏุฉ ูุถูููุฉ</span>
            <span class="hero-badge"><i class="fas fa-headset"></i>ุฏุนู ููู 24/7</span>
        </div>
    </div>
</section>

<div class="container pb-12">
    <!-- Filter & Categories -->
    <div class="filter-container">
        <div class="row align-items-center">
            <div class="col-lg-3">
                <h3 class="filter-title mb-lg-0">ุชุตูููุงุช ุงููุชุงุฌุฑ</h3>
            </div>
            <div class="col-lg-9">
                <div class="category-filter">
                    <button class="category-btn active" data-category="all" onclick="filterByCategory('all')">
                        <i class="fas fa-th-large"></i>ุงููู
                    </button>
                    {% for category in categories %}
                    <button class="category-btn" data-category="{{ category.id }}" onclick="filterByCategory('{{ category.id }}')">
                        {% if category.image %}
                            <img src="{{ category.image.url }}" alt="{{ category.name }}" style="width: 20px; height: 20px; border-radius: 4px;">
                        {% else %}
                            <i class="fas fa-tag"></i>
                        {% endif %}
                        {{ category.name }}
                    </button>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>

    <!-- Suppliers Grid -->
    <div class="supplier-grid">
        <div class="row" id="supplierGrid">
            {% for supplier in suppliers %}
            <div class="col-lg-4 col-md-6 mb-8 supplier-card-container" data-categories="{% for cat in supplier.category.all %}{{ cat.id }},{% endfor %}">
                <div class="supplier-card">
                    <div class="supplier-cover" style="{% if supplier.panal_picture %}background-image: url('{{ supplier.panal_picture.url }}'); background-size: cover; background-position: center;{% else %}background-color: {{ supplier.primary_color }}22;{% endif %}"></div>
                    <div class="supplier-logo-wrapper">
                        <img src="{% if supplier.profile_picture %}{{ supplier.profile_picture.url }}{% else %}{% static 'logo.png' %}{% endif %}" alt="{{ supplier.name }}">
                    </div>
                    
                    <div class="supplier-content">
                        <h3 class="supplier-name">{{ supplier.name }}</h3>
                        
                        <div class="supplier-meta">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>{{ supplier.city }}, {{ supplier.country }}</span>
                        </div>
                        
                        <div class="supplier-tags">
                            {% for category in supplier.category.all %}
                                <span class="supplier-tag">{{ category.name }}</span>
                            {% endfor %}
                        </div>

                        <div class="supplier-footer">
                            <div class="rating text-warning font-bold">
                                <i class="fas fa-star ml-1"></i>4.9
                            </div>
                            <button class="btn-visit" onclick="window.location='{% url 'product-list' supplier.id %}'">
                                ุฒูุงุฑุฉ ุงููุชุฌุฑ
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            {% empty %}
            <div class="col-12">
                <div class="no-suppliers">
                    <i class="fas fa-store-slash"></i>
                    <h3>ูุง ุชูุฌุฏ ูุชุงุฌุฑ ูุชุงุญุฉ ุญุงููุงู</h3>
                    <p class="text-muted">ูู ูุชู ุงูุนุซูุฑ ุนูู ุฃู ูุชุงุฌุฑ ุชุชูุงูู ูุน ุจุญุซู</p>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>

<!-- Features Section Clean -->
<section class="features-container">
    <div class="container">
        <div class="row text-center mb-12">
            <h2 class="fw-bold">ููุงุฐุง ุชุฎุชุงุฑ ููุตุชูุงุ</h2>
        </div>
        <div class="row">
            <div class="col-md-4">
                <div class="feature-item">
                    <div class="feature-icon-box"><i class="fas fa-store"></i></div>
                    <h3>ูุชุงุฌุฑ ูุนุชูุฏุฉ</h3>
                    <p>ุฌููุน ูุชุงุฌุฑูุง ุชุฎุถุน ูุฑูุงุจุฉ ุตุงุฑูุฉ ูุถูุงู ุญููู ุงููุณุชููู ูุฌูุฏุฉ ุงูููุชุฌุงุช ุงููุนุฑูุถุฉ.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-item">
                    <div class="feature-icon-box"><i class="fas fa-shipping-fast"></i></div>
                    <h3>ุณุฑุนุฉ ูู ุงูุชูููุฐ</h3>
                    <p>ูุนูู ูุน ุฃูุถู ุดุฑูุงุช ุงูุฎุฏูุงุช ุงูููุฌุณุชูุฉ ูุถูุงู ูุตูู ุทูุจู ูู ุงูููุช ุงููุญุฏุฏ.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-item">
                    <div class="feature-icon-box"><i class="fas fa-shield-alt"></i></div>
                    <h3>ุฏูุน ุขูู</h3>
                    <p>ูููุฑ ุฎูุงุฑุงุช ุฏูุน ูุชุนุฏุฏุฉ ูุขููุฉ ุชูุงูุงูุ ุจูุง ูู ุฐูู ุงูุฏูุน ุนูุฏ ุงูุงุณุชูุงู ููุฏู.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
function filterByCategory(categoryId) {
    const cards = document.querySelectorAll('.supplier-card-container');
    const buttons = document.querySelectorAll('.category-btn');
    
    buttons.forEach(btn => {
        if (btn.getAttribute('data-category') === categoryId) {
            btn.classList.add('active');
        } else {
            btn.classList.remove('active');
        }
    });

    cards.forEach(card => {
        if (categoryId === 'all') {
            card.style.display = 'block';
        } else {
            const categories = card.getAttribute('data-categories').split(',');
            if (categories.includes(categoryId)) {
                card.style.display = 'block';
            } else {
                card.style.display = 'none';
            }
        }
    });
}
</script>
{% endblock %}